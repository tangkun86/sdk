var CuiRes={OK:"\u786e\u5b9a",CANCEL:"\u53d6\u6d88",CLOSE:"\u5173\u95ed"};$.browser={};$.browser.mozilla = /firefox/.test(navigator.userAgent.toLowerCase()); $.browser.webkit = /webkit/.test(navigator.userAgent.toLowerCase()); $.browser.opera = /opera/.test(navigator.userAgent.toLowerCase()); $.browser.msie = /msie/.test(navigator.userAgent.toLowerCase());(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:0.5,overlayColor:"#FFF",draggable:!0,okButton:CuiRes.OK,cancelButton:CuiRes.CANCEL,dialogClass:null,overLoad:function(c,b){b||(b=0);a.alerts._overShow(c,b,"loading")},overWarn:function(c,b){a.alerts._overShow(c,b,"warn")},alert:function(c,b,d){null==b&&(b="OK");a.alerts._show(b,c,null,"alert",function(a){d&&d(a)},null,null,null,null)},confirm:function(c,b,d){null==b&&(b="Are you sure");a.alerts._show(b,
c,null,"confirm",function(a){d&&d(a)},null,null,null,null)},prompt:function(c,b,d,f){null==d&&(d="Please enter something");a.alerts._show(d,c,b,"prompt",function(a){f&&f(a)},null,null,null,null)},openBox:function(c,b,d,f,e,h,g){null==b&&(b="Information");a.alerts._show(b,c,null,"openBox",function(a){g&&g(a)},d,f,e,h)},overAlert:function(c,b){a.alerts._overShow(c,b,"alert")},_overShow:function(c,b,d){null==b&&(b=3E3);a.alerts.timeOutFn&&(clearTimeout(a.alerts.timeOutFn),a("#over_container").remove());
a("body").append($('<div id="over_container" style="display:none"></div>').addClass(d+"_container").append($("<span></span>").addClass(d+"_tip")).append('<span id="over_message"></span>'));a("#over_message").text(c).html(a("#over_message").text().replace(/\n/g,"<br />"));a.alerts.dialogClass&&a("#over_container").addClass(a.alerts.dialogClass);c=a.browser.msie&&6>=parseInt(a.browser.version)?"absolute":"fixed";a("#over_container").css({position:c,zIndex:99999,width:350,padding:0,margin:0}).show("fast");
a("#over_container").css({minWidth:a("#over_container").outerWidth(),maxWidth:a("#over_container").outerWidth()});a.alerts._overReposition();a.alerts.timeOutFn=0<b?setTimeout(function(){a("#over_container").hide("fast",function(){a(this).remove()})},b):1},_overReposition:function(){var c=4,b=a(window).width()/2-a("#over_container").outerWidth()/2+a.alerts.horizontalOffset;0>c&&(c=0);0>b&&(b=0);a.browser.msie&&6>=parseInt(a.browser.version)&&(c+=a(window).scrollTop());a.browser.msie&&6>=parseInt(a.browser.version)&&
(b-=175);a("#over_container").css({top:c+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_show:function(c,b,d,f,e,h,g,j,k){a.alerts._hide();a.alerts._overlay("show");a("body").append('<div id="popup_container" style="display:none"><h1 id="popup_title"></h1><span id="popup_close"></span><div id="popup_content"><div id="popup_message"></div></div></div>');a.alerts.dialogClass&&a("#popup_container").addClass(a.alerts.dialogClass);var l=a.browser.msie&&6>=parseInt(a.browser.version)?
"absolute":"fixed";a("#popup_container").css({position:l,zIndex:99999,padding:0,margin:0}).show();a("#popup_title").text(c);a("#popup_content").addClass(f);"openBox"!=f&&a("#popup_message").text(b).html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({});a.alerts._reposition();a.alerts._maintainPosition(!0);switch(f){case "alert":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /></div>');a("#popup_ok").click(function(){a.alerts._hide();
e(!0)});a("#popup_ok").focus().keypress(function(b){(13==b.keyCode||27==b.keyCode)&&a("#popup_ok").trigger("click")});break;case "confirm":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_ok").click(function(){e&&e(!0);a.alerts._hide()});a("#popup_cancel").click(function(){a.alerts._hide();e&&e(!1)});a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(b){13==
b.keyCode&&a("#popup_ok").trigger("click");27==b.keyCode&&a("#popup_cancel").trigger("click")});break;case "prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_prompt").width(a("#popup_message").width()-10);a("#popup_ok").click(function(){var b=a("#popup_prompt").val();
a.alerts._hide();e&&e(b)});a("#popup_cancel").click(function(){a.alerts._hide();e&&e(null)});a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(b){13==b.keyCode&&a("#popup_ok").trigger("click");27==b.keyCode&&a("#popup_cancel").trigger("click")});d&&a("#popup_prompt").val(d);a("#popup_prompt").focus().select();break;case "openBox":a("#popup_message").append(a(b).html()),h&&a("#popup_container").css({width:h+"px"}),g&&(a("#popup_container").css({height:g+"px"}),a("#popup_message").css({height:g-
48+"px"})),a.alerts._reposition(),j&&a(j).click(function(){a.alerts._hide();e&&e(!0)}),k&&a(k).click(function(){a.alerts._hide();return!1})}a("#popup_close").click(function(){a.alerts._hide();e&&e()});if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")}),a("#popup_title").css({cursor:"move"})}catch(m){}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");a.alerts._maintainPosition(!1)},_overlay:function(c){switch(c){case "show":a.alerts._overlay("hide");
a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case "hide":a("#popup_overlay").remove()}},_reposition:function(){var c=a(window).height()/2-a("#popup_container").height()/2+a.alerts.verticalOffset,b=a(window).width()/2-a("#popup_container").width()/2+a.alerts.horizontalOffset;0>c&&(c=0);0>b&&(b=0);a.browser.msie&&
6>=parseInt(a.browser.version)&&(c+=a(window).scrollTop());a("#popup_container").css({top:c+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(c){if(a.alerts.repositionOnResize)switch(c){case !0:a(window).bind("resize",a.alerts._reposition);break;case !1:a(window).unbind("resize",a.alerts._reposition)}}};CuiAlert=function(c,b,d){a.alerts.alert(c,b,d)};CuiConfirm=function(c,b,d){a.alerts.confirm(c,b,d)};CuiPrompt=function(c,b,d,f){a.alerts.prompt(c,b,d,
f)};CuiBox=function(c,b,d,f,e,h,g){a.alerts.openBox(c,b,d,f,e,h,g)};CuiOverAlert=function(c,b){a.alerts.overAlert(c,b)};CuiOverWarn=function(c,b){a.alerts.overWarn(c,b)};CuiOverLoading=function(c,b){a.alerts.overLoad(c,b)};CuiOverOut=function(){a.alerts.timeOutFn=null;a("#over_container").hide("slow",function(){a(this).remove()})}})(jQuery);
